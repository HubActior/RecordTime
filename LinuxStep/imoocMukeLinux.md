20191007，星期一，Tony老师，Linux系统工程师，红帽认证
第一节，Linux简介，一上来就讲背景了，在Linux之前有个Minix是Andrew S.Tanenbaum教授开发的，开源给大学做研究，其他人在用Minix时发现可以改进，但Andrew教授说，我开发这个系统只是为了教学，你们能够看懂，我的目的就达到了，Minix不需要更新优化。
之后1991年Linus Torvalds以Minix为模板，写了个Linux，至此与Unix就没啥关系了。以芬兰吉祥物企鹅作为图标，正确读法为李纳克斯、而国内通用读作李里克斯，两者都行。
Linux分为内核版本，www.kernel.org管理，开源下载。还有个是各个厂商的发行版本，主要是CentOS与Ubuntu，后者的图形界面更好看点，然而在服务器领域图形界面无足轻重，甚至可以不要，更加看重安全与稳定。
所以我们还是讲学RedHat，而CentOS完全免费，就学这个啥，另外RedHat还有个fedora系列，包含全部功能、但是稳定性只能靠使用进去维护，图形界面不比Ubuntu差了。但现在CentOS已经被RedHat收购，还能免费多久就不清楚了。
开源软件，
    使用自由，绝大多数免费，但与免费软件又不同
    研究自由，可获得软件源代码，学习研究
    散布及改良自由，改良功能甚至销售，但要求开源出去
但是国内的开源软件协议做得并不好，很好企业的产品源自开源软件，但是不想贡献出去，就加密、留后门各种操作。
另外内核版本与开源版本是区别的，不能这样类比，同时Linux严格区分大小写是正确的，要注意一下
国外有个www.netcraft.com网站，专门分析企业级的东西，可以看到全球服务器领域Apache+Ni占据80%、而Microsoft目前已不足20%，网站有个What's that site runing直观看到对应网站的信息，嵌入式设备里底层都是Linux或Unix，而windows的WForm和诺基压的境地差不多，很尴尬。
学习方法就很主观了，各位要清楚在互联网行业，只要涉及服务器的东西，Linux一直都是个朝阳行业。
如何学习，一对于问题、先要尝试自己解决，查看官网帮助文档，搜索引擎看示例等。二提问的智慧、问题尽量详尽具体，同时最好伴有报错的贴图，因为看到错误后有助于老师直观解决。
Linux与Windows的不同，在学习Linux的过程中要逐步抛弃Windows的东西，有以下几点
    Windows才有DOS命令窗口、而Linux是自带的命令行窗口，Linux严格区分大小写，而Windows里没有，
    Linux的需要永久保存的，如硬件、用户等所有内容都是以文件形式保存、而windows里会区分硬件、用户、软件等。Linux中不靠扩展名区分文件类型，是通过权限来区分，但是有一些约定俗成的东西。有这些扩展名后缀，只是为了方便管理员
    压缩包：*.gz、*.bz2、*.tar.bz2、*.tgz等
    二进制软件包：.rpm，网页文件：.html、.php
    脚本文件：.sh，配置文件：.conf
    Windows下的程序.exe不能直接在Linux中安装和运行，Windows下有大量的木马和其他病毒，Linux当然不需要，此外Linux中服务器应用软件绝对够了，但是娱乐游戏软件确实不足，人家就不是拿到娱乐的，有浏览器就够了。
强调一下，字符界面的优势，字符界面占用系统资源更少、相比图形界面有更多资源可用来与客户端对接，字符界面东西少、出错机率低
第二节，Linux系统安装
最开始初学还是建议使用虚拟机来操作，VMware就比较好，教学选用VMware8版本的，官网上下载的是要收费的。
    VMware主要特点：
    不需要分区或重新开机就能在同一台PC上使用两种以上OS
    本机系统可以与虚拟机系统网络通信
    可以设定并且随时修改虚拟机操作系统的硬件环境，磁盘
    学习操作系统时，非常容易把电脑玩崩溃，所以建议VMware学习，有个快照snapshoot，帮助恢复保存的那个状态
安装过程中，弹出加入启动项，应当准许其找启动需要的软件资源，再次强调，初学就安CentOS的32位就行，64位耗资更大，而且有兼容性的问题。虚拟机中删除其中的操作系统很简单，但是删除VMware本身是很麻烦的，有VMware_Install_Clearer可以帮忙，看来还得注意一下。网上资源后续课程会讲到！
那个安装软件时，还是建议C盘尽量只是放操作系统相关的内容，自己装东西时放到DE盘、资料放EF盘，那个重装系统时，只需要把C盘清空重装就好，其他盘就不用动，重装完成再配置一下环境就行。
系统分区，说了磁盘分区，分区类型
    主分区，最多只能有4个，512-64=448，448个字节放操作系统的东西，每个扇区占16字节。
    扩展分区，最多只能有1个，就是把其中一个主分区改成扩展分区，里面不能写入数据，只能包含逻辑分区
要注意格式化，并不是主观意义上的清空数据，而是指根据用户选定的文件系统（如FAT16、32，NTFS、EXT2、3、4等），在磁盘的特定区域写入特定数据，分区中划出一片用于存放文件分配表、目录表等用于文件管理的磁盘空间。U盘中常见的是FAT类型、Windows7默认只有NTFS，而Linux的CentOS6.3中是EXT4。
    数据块，Block默认大小4KB，分成等大小数据块。确实是会把数据清空，但不仅仅如此，主要是重建分配表。
硬件设备文件名，鼠标为例，/dev/mouse，树形目录，/是根，需要看懂含义就好。/dev/hda1、IDE硬盘接口，a1是第一个硬盘的第一个分区，命名还有些注意地方，扩展分区名。
挂载，Linux中没有盘符概念，必须分区，/根分区、swap交换分区，在内存大小4G以内，是内存的2倍、内存过8G就应当和内存一样大小。还有推荐分区/boot启动分区、200MB即可，拿目录做挂载点
一定要注意，虚拟机充电情况下，不能直接点红叉叉关闭，必然崩溃，应当关闭电源或者挂起。
安装时要注意，虚拟机设置里选择安装光盘、确定打开电源，鼠标点进虚拟机，再按F2键，更改Boot启动顺序，右箭头移动、Ctrl+Alt鼠标退出虚拟机，选中CD-RAM Driver先安装CentOS，虚拟机里面很智能，但是真机操作就必须要进行这步，看看Exit下保存否。
说说密码原则：
    复杂性，八位字符以上，不能是英文单词，不能和用户相关内容
    易记忆性，对自己有含义的名人警句、诗句、歌词都行
    时效性，每90天或者180天更换一次密码
软件包选择时，尽量选Minimal最小化、但为了讲课方便暂时安装Basic Server基本服务器，简单起见用户名默认为root，密码123456，ls可以看到有3个安装日志log。
推荐安装XShell来写命令，都选择SSH协议，界面好看点。
第三节，命令基本格式及文件处理命令
据统计目前Linux支持的命令达到3000个，但课程中只会用到200个左右，所以不用担心。首先认识一下命令提示符[root@localhost ~]#，其中root当前登录用户、也可以有其他user，localhost主机名、Linux中不以localhost来区分同一网络下的主机，都可以用。~当前所在目录（家目录）、#超级用户root的提示符，普通用户是$
    命令格式，命令 [选项] [参数]，大体遵循这个，选项分简化与完整，-a\--all，[]的内容表示可选。inode，ID结点
第一个8个，cd、ls，ls -l查看详细信息，Linux中只有七种文件类型，权限占十位，-表示普通文件、d目录、l软链接文件，另外四种不需要普通用户去管。另外九位三个一组，分u所有者、g所属组、o其他人，r读、w写、x执行，xcode。ls -lh人性化显示，任何操作系统都有隐藏文件，以.开头，目的是表示为系统文件，而在Windows下的各种病毒，都会把自己变成隐藏文件。
    mkdir、mkdir -p what/ok递归创建目录，cd简化操作cd ~与cd直接Enter都是直接进入当前用户的家目录，cd -进入上次目录，cd ..上一级目录，cd .进入当前目录，相对路径以当前目录为基准，cd ../usr回去，而绝对路径以根目录cd /usr。建议初学者都使用绝对路径，虽然麻烦，但是准备。支持命令与名称补全，养成使用Tab键的习惯。pwd、print working directory，记好起，已经四个命令了。
rmdir，remove empty d删除空白目录，有东西都不能删。更常用的是rm命令，本身是删文件，加了rm -r可以删目录，rm -f是强制删除的意思，执行rm时一定要小心清楚，删除的东西是什么，没有图形界面的回收站，删了就是删了。cp默认复制文件，cp -r才是复制目录，cp -p连带文件属性，cp -d复制链接属性，cp -a相当-pdr
所有内容属性，时间等都是一样的。ls -l与ll作用一样，大小名而已，当前也有剪切或改名命令，mv、不同目录下就是剪切，同一目录就是改名，如mv what there，在当前目录将what改名成there。
当前有八个命令了，要注意常见目录的作用。
    根目录下bin和sbin，usr目录下bin和sbin这四个目录都是用来保存系统命令的。sbin是只有super用户才有使用的，dev特殊文件保存目录，etc是系统默认的配置文件，lib函数库文件，media\mnt\misc三个空目录，proc和sys两个目录不能直接操作，保存的是内存的过载点。tmp临时文件目录，目前只需要关心home、root和tmp三个目录就行了。
链接命令ln、link，ln -s [原文件] [目录文件]，-s软链接，看硬链接特征：1拥有相同的i节点和存储block块，可看做是同一文件，可类比教室的前门后门，访问的是同一个位置。2可且只能通过i节点识别，3不能跨分区，4不能针对目录使用。推荐使用软链接，更加灵活，1类似Windows里的快捷方式，2拥有自己的i节点和Block，但数据块中只保存原文件的文件名和i节点号，没有实际文件数据，3其文件权限都为lrwxrwxrwx、其实权限还得看原文件的权限、表示的只是和原文件有一样的权限，4修改任意文件、另一个都改变，5删除原文件，则软链接不能使用了。
第四节，文件搜索命令，共五个命令
locate 文件名，在后台数据库中按文件名搜索、速度更快，/var/lib/mlocate，默认1000行更新一次，可以updatedb手动更新。搜索过程中会遵守/etc/updatedb.conf配置文件的设置，有些目录是不会去搜索的。
whereis 命令，搜索命令的位置，-b只查可执行文件、-m只查帮助文件，which搜索命令时，若命令有别名也会显示、cd命令是shell编程所带的，不在Linux命令之中，也有PATH环境变量的说法。各个位置以冒号:隔开，注意区分Windows的分号;如此哈
find命令，功能十分强大，find [搜索范围] [搜索条件]，实际情况下，必须避免在若大范围里去搜索，十分消耗电脑资源，Windows也是如此。find / -name install.log，默认完全匹配搜索，如果要模糊搜索就需要用到通配符，*任意内容、？任意一个字符、[]匹配任意其中一个字符，使用通配符需要双引号""起来。
    若加上iname就不区分大小写了，find /root -nouser查找没有所有者的文件，只有两类特殊，一类是内核中交互产生在sys和proc中的文件、一类是外部文件，如Windows编写的文件，或U盘拷贝到Linux中的文件。其余的nouser文件都可定义为垃圾文件，还可按时间来搜索，如下
        find /var/log/ -mtime +10
        -10，10天内、10，10那一天的24小时、+10，10天前
        atime、access，ctime、change，mtime、modify
        没有10天后这个概念哈，另外find . -size 25k按大小，25M，注意单位的大小写，确实是这样。结点inum
    find支持逻辑与或，find /etc -size +20k -a -size -50k，找出来满足条件的文件，然后再ls -lh看详细信息，
    也可以在末尾加上-exec ls -lh {} \，表示执行完find再执行ls -lh，注意固定格式。
grep，字符串命令，grep [选项] 字符串 文件名，-i忽略大小写、-v排队指定字符串，与find区别，find完全匹配、grep包含匹配，有个正则表达式的概念。find在系统当中搜索符合条件的文件名（通配符）、grep在文件当中搜索符合条件的字符串（正则表达式）
第五节，帮助命令，3个
man、manual，ls、list directory contents，man -f可以看到有几个级别的帮助，相当于whatis，man -k相当于approcess。
还有其他帮助，如ls --help，直观定位，以及help shell内核命令，help cd，用whereis来判断是否是内核命令，找不到执行文件就是了。还有个info命令，操作太复杂了。
第六节，压缩命令，
Windows压缩格式.zip、.rar，Linux中更多，如.zip、.gz、.bz2、.tar.gz、.tar.bz2，压缩文件比原文件还大是有可能的，因为压缩命令有大小撒。zip 压缩文件名 源文件，同理加-r目录，解压缩直接unzip 压缩文件，没有区分。rar是Windows下特有的压缩格式，压缩效率比zip更高。gzip 源文件，默认源文件会消失、可通过gzip -c 源文件 > 压缩文件，将源文件显示出来。需要注意，gzip -r 目录时，只是压缩目录下的所有子文件，而不能压缩目录。解压缩可以gzip -d 压缩文件，或者 gunzip 压缩文件。同样不会保留压缩文件，意味着默认源与压缩，留其一。
另外.bz2格式，bzip2 源文件，默认不保留源文件，可bzip2 -k，注意bzip2压根就不能压缩目录。解压缩bzip2 -d或bunzip2同理
    tar命令就是用来解决目录不能压缩的问题，tar -cvf 打包文件名 源文件，-c打包、-v显示过程、-f指定打包后的文件名。如tar -cvf what.tar what，-xvf解打包，先打包再压缩。有更加简洁的方式，tar -zcvf 压缩包名.tar.gz 源文件，
    -jcvf成.tar.bz2，可以指定解压缩目录tar -jxcf jp.tar.bz2 -C /tmp/，压缩到指定目录也可以，直接包名前加绝对路径。tar -ztvf test.tar.gz，只查看而非解压，注意t是test，测试查看的意思。着重后两种方式！
20191008，周二，第七节，关机与重启命令
[root@localhost ~]# shutdown [选项] 时间
    -c，取消前一个关机命令
    -h，关机，但是在服务器上，避免使用关机命令
    -r，重启
    时间，可以用now立即，也可以先看当前date，再设置定时关机，会把终端卡住，# shutdown -r 10:30 &，加个&意味着后台执行，不占界面
    有其他关机命令，但是相对来说，还是shutdown更安全
    # halt关机，poweroff关机，init 0关机
    其他重启命令，# reboot相对安全，但init 6就别用了。
    0-6七个系统运行级别，查询用# rnulevel，返回前一级别 当前级别，
    # cat /etc/inittab，修改默认级别，id:3:initdefault:可选3与5
    退出登录，在Windows叫注销，Linux中就是# logout，从一开始就应该养成良好习惯，光是关闭红叉，其实没有退出，次数多了会崩溃。
第八节，其他常用命令
    挂载mount，mount查询系统中已经挂载的设备，mount -a依据配置文件/etc/fstab的内容，自动挂载，都不要与修改它。
    正式讲挂载命令格式，# mount [-t 文件系统] [-o 特殊选项] 设备文件名 挂载点，文件系统：ext3\4、光盘的话是iso9660，记住就好
    特殊选项：atime/noatime、async/sync、exec/noexec、user/nouser，等一般默认的都是正确的。有个chmod 755 hello.sh，就相当给hello.sh赋了执行权限。
    其实挂载主要还是用来挂载光盘的，在真机中就是把光盘放入光驱中、虚拟机中就是点光盘映像，一定记得选已连接得行框。
    1首先在挂载目录下 mkdir /mnt/cdrom，建立挂载点
    2挂载光盘，mount -t iso9660 /dev/cdrom /mnt/cdrom/
        mount /dev/sr0 /mnt/cdrom/，两个都是一样的作用，sr0软链接关系，建议还是使用sr0
    卸载命令，umonut 设备文件名 挂载点，umout /mnt/cdrom/，卸载时先出去，才能卸载。
    挂载U盘，# fdish -l，先查看U盘设备文件名，是啥就sdb1处填啥
        # mount -t vfat /dev/sdb1 /mnt/usb/
    移动硬盘是NTFS系统的，Linux和Unix都是不支持的，所以Apple的电脑用移动硬盘也很麻烦，之后会讲到用网络传输才是便利。
用户登录查看命令，w直接回车就好，who看到用户，
    last，默认是读取/var/log/wtmp文件数据，可以看到所有用户登录信息，若发现不是自己登录的，就要考虑是否被黑客入侵了。
    lastlog，查看所有用户最后一次登录时间，默认读取/var/log/lastlog文件内容，一样不能用vi/vim打开，防止人为修改。
第九节，Shell基础，翘牌、壳
    再次巩固菜鸟教程的Shell知识，主要有两种语法类型Bourne和C，彼此不兼容，Bourne家族主要包括sh\ksh\bash\psh\zsh、C家族主要是做在Unix中，csh\tcsh。# sh直接进入sh状态，# exit退出。
脚本执行方式，echo输出命令，可通过加-e来控制输出的格式和颜色等，
    反斜线控制的字符转换，\a警告alarm，\b退格向左删除backspace，\n换行newline，\r回车，shell里!有特殊的意义，不能在输出中用。
    \t制格符tab，格式# echo -e "hell\bo"，输出为helo要注意
    # echo -e "\e[1;31m what your name \e[0m "，格式复杂、开启与关闭颜色。
    30黑、31红、32绿、33黄、34蓝、35洋红、36青、37白色，
    shell来实现系统管理十分方便，可以直接支持，
    #!/bin/bash，这一句必须要加上，可以调用其他的语言特性
    两种执行方式，1赋予执行权限，chmod 755 hello.sh，./hello.sh
    另一种bash hello.sh也可以，但是不符合我们执行脚本的习惯。
bash基本功能，
    别名，通过alias可查看已经声明过的别名，也可修改
    alias ls='ls --color=never'就不会再有颜色的区分，实验结束之后一定记得换回默认状态，否则会有意想不到的错误。
    设定别名，alias 别名='原命令'，如现在建议使用vim、有颜色区分效果，但习惯了只用vi，就可以alias vi='vim'，但这个是临时生效。
    写入环境变量配置文件，可以永久生效，vi ~/.bashrc相对与/root/绝对，默认下次重启时生效，source .bashrc，可手动生效。删除别名时unalias、alignment as，命令行与配置文件中都要执行才行。
    命令生效顺序，
        第一顺位执行用绝对或相对路径执行的命令
        第二顺位执行别名
        第三顺位执行Bash的内部命令
        第四顺位执行按照$PATH环境变量定义的目录查找顺序找到的第一个命令
    常用快捷键，ctrl+c 强制终止当前命令cancel、+l清屏clear
    +a光标移动到命令行首ahead、+e行尾tail、+u光标所在位置删除到行首、+z把命令放入后台、+r在历史命令中搜索history，记住会用。
    历史命令，history [选项] [历史命令保存文件]，-c清空、-w写入，
    直接查看history显示的命令比/.bash_history的多，需要正常退出后才会把当前命令写入。默认保存1000条，可以通过/etc/profile修改，
    历史命令的调用，上下箭头调用以前的，!n、调用第n条
    !!、重复执行上一条，!字串、重复执行最后一条以该字串开头的命令。
    命令与目录文件补全tab键，养成良好习惯，敲完后tab确认一下。
        标准输入输出，键盘/dev/stdin、文件描述符0,
        显示器/dev/sdtout、1，标准错误输出/dev/sdterr、2。
输出重定向，把原本输出显示在屏幕上的信息，存放在一个文件里test.log
命令>文件，以覆盖方式写入新的命令，命令>>文件，以追加方式写入其中，
默认的只能把正确的命令及其结果存储起来，也可以用错误输入输出，
    datacang 2>>test.log，注意格式，也有把正确与错误都保存的。
命令 > 文件 2>&1、命令 &>文件，都是覆盖的形式，不常用
命令 >> 文件 2>&1、命令 &>>文件，追加形式，文件不存在就先新增再写
还可以分开，命令 >> 文件1 2>>文件2，命令有长有短
    cat查看catch、cat xdy >> access.log 2>>error.log，正确错误看命令，重点掌握复杂的三种。
输入重定向，命令<文件，把文件作为命令的输入，<<用得更少。wc命令用来统计，-c字节数char、-w单词数word、-l行数line。
    管道符，先讲一下多命令顺序执行，要注意全是英文状态下的
    ;多个命令顺序执行，没有任何逻辑联系，就算出错一直执行
    &&逻辑与，适合做一下有关联的操作，||逻辑或，
    可以判断命令是否正确，但目前的知识可以通过简单输出判断
    命令 && echo yes || echo no，不管如何都会有输出信息。
管道符，命令1 | 命令2，命令1的结果作为命令2的操作对象，more分屏查看文件内容，管道符在实际使用更多，netstat -an | grep ESTABLISHED，
网络中正在连接的客户端，多个管道符的应用很多。
    通配符，？、*、[]、[-]代表范围之内，[^]逻辑非，如[^0-9]匹配一个不是数字的字符，'单、"双引号的区别，再次复习。反引号`是用来包裹命令的，作用同$()是一样的，都是先执行命令，再把命令的结果赋值给变量。#用来注释、\转义字符，实践中认真应用。
    wildcard character通配符，哈哈操作不熟练，tab反向弄不来。
已经入门了，继续学习初级知识，兴趣或专业都有必要多多学习！
初级课程，Linux网络管理，20191008周二
第一节，网络基础
    计算机基础与网络基础还不能一样学，两者所见不一，打好基础对于以后的学习和提升都是有帮助的。那个可能是没有换行！
准备暂时停止学习这课，把百度云盘里magedu教育的看完再说。
    ISO：国际标准化组织，OSI：开放系统互联模型，IOS：苹果操作系统
传输单位：物理层、比特，物理接口、电气特性
    数据链路层、帧、保存物理地址、MAC地址负责局域网通信，错误检测与修正
网络层、报文、IP地址负责外网通信，逻辑地址，选路寻路
    传输层、可靠与否的传输、传输的错误检测、流控，端口号
会话层、对应用会话的管理、同步
    表示层、数据的表现形式、特定功能的实现，如加密、压缩
    英文ASCII、中文GB2312
应用层、用户接口，记清七层模型的关系，方便学习理解
    TCP/IP 4层模型，应用层，为用户提供各种服务
传输层，传输控制协议TCP、三次握手，SYN序列号、ACK确认号，两军问题
用户数据报协议UDP，
    网际互联层，三个主要协议，网际IP、互联网组管理IGMP、控制报文ICMP
网络接口层，ARP地址解析工作在此，arp -a可查看同局域网内的信息
    子网掩码很简单的，B类地址可以用C类掩码，掩码中1是连续的就行。
TCP包头和IP包头固定长度都是20个字节，UDP包头12字节，
    常见端口号，FTP文本传输，20发，21收 SSH安全shell协议、22
telnet远程登录、23，现在都不建议用，没有加密，一旦截获显露无疑，Linux用SSH、Windows也有自身的远程登录程序   DNS域名解析、53
http超文本、80  SMTP简单邮件、25    POP3邮局协议3代、110
查看本机启用的端口，netstat -an
    -a，查看所有连接和监听端口
    -n，显示IP地址和端口号，而不显示域名和服务名
    只有TCP需要监听，UDP根本不需要
DNS作用，互联网中通信IP地址进行通信，人们对域名更加敏感，早期使用
hosts文件，在C:\Windows\System32\drivers\ect\hosts里面，记事本没有格式，看着很乱，用写字板打开。
    # 127.0.0.1 localhost   ::1 localhost
    192.188.8.1 www.sina.com    这是假的新浪网址
hosts做静态IP和域名对应，优先级高于DNS解析，但是只适合做实验验证
问题有：名称解析效能低下，主机维护困难
    DNS特点：层次性、分布性，先来说说域名空间结构
根域，"."，全球只有13个，全部分布在国外
顶级域，又分组织域edu\gov\com\org\mil\cn，国家或地区域cn\uk\jp
二级域，个人或组织向域名分配委员会申请的，费用一年几百元，也不贵
三级域、主机名，www\NEWS，申请二级域之后自行选择的，一般是www
    防范钓鱼网站，着重注意二级域名，是否和自己熟知的一样，很多钓鱼网站都是在个别字母上改动了。两个概念递归与迭代
DNS客户机与本地域名服务器，递归查询，无论多久都要把结果拿到
本地域名服务器与根DNS服务器，迭代查询，返回一个信息再去cn\com.cn等
查询内容上分，正向由域名查找IP地址、反向由IP地址查找域名，多数正向
    网关作用，内网ip与外网ip通信
    1网关Gateway又称网间连接器、协议转换器
    2在网络层以上实现网络互连、是最复杂的网络互连设备、仅用于两个高层协议不同的网络互连
    3既可用于广域网互连，也可局域网互连
    4网关是一种充当转换重任的服务器或路由器
第二节，网络配置
    IP地址配置，Windows中有自动分配IP地址的DHCP服务器
Linux中配置的方法
    1、ifconfig命令临时配置，限于实验，关机或重启网络服务就会消失
查看与配置网络状态，ifconfig etho 192.168.1.200 netmask 255.255.255.0，回车就会生效，断开当前连接
    2、setup工具永久配置，是redhat公司研发的功能，其他公司可以不
红帽专有图形化工具，注意使用方法，tab是向下翻
    3、修改网络配置文件，这才是通用的，而且应当掌握的方式
网卡信息文件，/etc/sysconfig/network-scripts/ifcfg-eth0，实际环境下按tab键自动补全。设置好后，service network restart重启网络服务
    主机名文件，/etc/sysconfig/network，还是那句话看不懂的就不要去改，可以# hostname 名字，临时设置主机名。
    DNS文件，/etc/resolv.conf，三个文件一定要记好，使用操作熟练
    4、图形界面配置，一服务器不要图形界面、二简单自学
如果UUID冲突，则需要
    1)vi /etc/sysconfig/network-scripts/ifcfg-eht0
    删除MAC地址行
    2)rm -rf /etc/udev/rules.d/70-persistent-net.rules
    删除网卡和MAC地址绑定文件
    3)重启系统，如果是首次安装，而非复制clone则不需要这些步骤
虚拟机网络配置，着重注意网络连接那里
    桥接，则与本地主机有相同权限，可访问本地局域网和公网通信
    Host，则使用VMware8这个，只能访问公网通信
    NAT，则使用VMware1，只能与本地主机通信，局域网和公网都不行
在虚拟机中编辑，虚拟网络编辑器是可以看到相应信息的，桥接到哪里自己手动选择一下，担心选自动，会桥接不正确就没法使用了。
第三节，网络命令
    环境查看，Linux中ifconfig、Windows中ipconfig \all全面了解
    关闭与启动网卡，ifdown 设备名、ifup 设备名，启动
查询网络状态，netstat 选项
    -t，列出TCP协议端口
    -u，UDP协议端口
    -n，不使用域名和服务号，而使用IP地址和端口号、不需要把IP转换成域名，所以查询速度更快
    -l，仅列出在监听状态网络服务
    -a，列出所有的网络连接
    Windows只支持netstat -an，这种操作，
    route -n和netstat -rn两个命令都是查询网关信息的，要注意
只有与外网连接的那个网关才能设置网关，网络运营商会给你分配的，个人不要去设置网关，否则将无法正确上网。
    nslookup，查看域名服务器信息，nslookup www.imooc.com
网络测试命令，ping 域名\ip地址，ping的对象要允许ping操作才能看到详细信息，Tony老师也讲到了中国著名科幻小说《三体》，有时间了解一下
ping探测网络连通情况，-c可设置ping的次数。
    telnet [域名或IP] 端口号，远程连接与端口探测，Ctrl+]退出
traceroute [选项] IP或域名，路由跟踪命令，-n显示IP地址，速度快
在实际工作中有一定作用，当无法访问服务器时就可以看看哪里出错了。
    wget 域名中的文件，下载命令，先搜索引擎中找到，再复制下载
tcpdump -i eth0 -nnX port 21，比较有趣的命令，网络抓包
    -i，指定网卡接口
    -nn，将数据包中的域名与服务转为IP和端口
    -X，以十六进制和ASCII码显示数据包内容
    port，指定监听的端口
所以说FTP传输也是明文传输，十分不安全，万维网只有https才是加密了的，
所以说确实互联网是不安全的，需要深入学习才能安全操作。
第四节，远程登录
    SSH协议原理，首先SSH协议诞生已久，是个收费的东东
先讲下对称加密算法，也是比较常见的，同一个密钥用作信息的加密和解密，称为对称加密，也称单密钥加密。
    还有非对称加密算法asymmetric cryptographic algorithm，需要两个密钥，公开密钥publickey和私有密钥privatekey。相当把一个文件加两个锁，发送方先拿到接收方公钥，把文件用自己的私钥和对方的公钥加密，接收方收到后用自己的私钥打开自己的公钥就行。类比公钥是锁，私钥是钥匙。
SSH安全外壳协议，Secure Shell，一取S、二取SH，由IETF的网络小组制定，建立在应用层基础上的安全协议。至少能够保证传送过程是安全的，
    ssh 用户名@ip，运程管理指定Linux服务器，如ssh root@192.168.x.x，首先就下载公钥
    衍生出来的scp文件传输，SSHCOPY
    下载，scp [-r] 用户名@ip:文件路径 本地路径
    上传，scp [-r] 本地文件 用户名@ip:文件路径，r还是目录意思
介绍一个Linux远程登录工具SecureCRT，Windows中虽然自身软件不够，但是有大量第三方软件可用，网上下载个SecureCRT绿色版自行安装，就可以在Windows管理Linux系统了，先Connect、再Option调整颜色、字体大小、支持中文等设置。初学使用还是推荐使用XShell，似曾相识的感觉，安装再复看
    WinSCP，Linux和Windows之间传输文件，安装过程十分简单，安装成功后选择SFTP协议，拖动就可以直接文件传输，像在一个系统里。
初级课程二，系统管理，20191009周三
第一节，进程管理
    进程简介，正在执行的一个程序或命令，有自己的地址空间并占有一定的系统资源。进程管理的作用，判断服务器健康状态，最理想状态是%90左右高效运行。
    查看系统中所有进程，正常运行的进程，内存不足加内存、加服务器，不认识的进程，是病毒也不能直接终止，要先完全清除再终止。
    杀死进程，其实是最不重要的作用，只有当正常关闭不起作用时使用，
进程查看命令，
ps aux，使用BSD操作系统格式，ps查看所有进程，就是标准命令格式了
    -a，显示一个终端的所有进程，除了会话连线
    -u，显示进程的归属用户及内存的使用情况
    -x，显示没有控制终端的进程
    -l，长格式显示，显示更加详细的信息
    -e，显示所有进程，和-A作用一致
还有pstree查看进程树，-p显示进程的PID、-u所属用户。
查看健康状态top，b使用批处理模式输出、n指定top命令执行的次数，
P、CPU使用率排序，M、内存使用率排序，N以PID排序，q退出top。
    有计划的重启服务器，是服务器维护的基本原则，像很多游戏、电影网站都会定期维护的，也如铁路购票网的晚上维护。
第二行进程信息，0 zombie僵尸进程、如果不是0，需要手动检查。
buffer缓冲、加速写入，cache缓存、加速读取，站在CPU的角度上。
    杀死进程，kill，有这个信号代号和信号名称，还是有些复杂的，
kill -1 2234重启PID为2234的进程，kill -9 337强制杀死337进程，
还有killall杀死一组进程，killall [选项][信号] 进程名，i交互式，
w命令查询本机已经登录的用户，pkill -9 -t pts/1按终端号杀死进程，
    进程优先级，现在有些电脑是四核八线程，可能七个单核的效果，除非是内核编程，否则一般用不到。PRI代表Priority、NI代表Nice，数值越高表示优先级越低，越后执行。nice只能在开启进程时生效、renice可修改已经存在进程的NI值，renice -10 2323，PID要有意识。
第二节，工作管理
    简介，在单个登录终端中，即登录的shell界面中，同时管理多个工作的行为。Windows上放在后台即最小化，有三个注意事项：
当前的登录终端，只能管理当前终端的工作，不能管理其他登录终端的工作，
放入后台命令必须可以持续运行一段时间，我们才能捕捉和操作这个工作，
放入后台不能和前台用户有交互或者需要前台输入，否则只能暂停、不执行。
进程放入后台，tar -zcf etc.tar.gz /etc &命令后面加&则在后台执行
top，按下Ctrl+z，则放在后台暂停，使用过程一定要注意命令的执行。
    jobs -l查看工作，fg前台、bg %工作号，恢复到后台，那个+号最最后一个加入jobs后台的，-号是倒数第二个，在恢复状态时有用到。
我们知道后台命令与当前终端的绑定，终端退出则相应后台命令也会消失，使两者脱离的方法，
    需要后台执行的命令放入/etc/rc.local文件，touch触摸
    使用系统定时，让系统在指定时间执行某个后台命令，
    推荐使用nohup命令，nohup /root/for.sh &，注意格式
第三节，系统资源查看
    vmstat [刷新延时 刷新次数]，如vtstat 1 3，
再次理解缓存与缓冲，缓存cache是用来加速数据从硬盘中“读取”的，而缓冲buffer是加速数据“写入”硬盘的，要会用。
    dmesg开机时内核检测信息，dmesg | grep CPU映像状态
free查看内存使用状态，b字节、k则kB、m则MB、g则GB单位
cat /proc/cpuinfo，查看CPU信息，uptime、系统负载
uname查看系统与内核相关信息，a所有、r内核版本、s名称，
查看当前操作系统位数，最简单方法file /bin/ls，
lsb_release -a查询当前的发行版本，区分内核与发行
lsof查询系统中的调用，有些复杂的，就在使用的man一下。
第四节，系统定时任务
系统在某一时刻执行指定的命令或脚本，Windows里也有，在附件中任务计划程序，在服务器维护中有很重要的作用，晚上做些事。
    at一次执行，
    首先确定at服务安装，chkconfig --list | grep atd
一般都是安装了的，service atd status查看当前状态
    再启动服务，service atd restart
at的访问控制，/etc/at.allow文件中的用户可以使用，白名单，
若没有allow文件，那/etc/at.deny文件中用户不能用，黑名单，
若两个都不存在，则只有root用户可以使用at命令。实际上系统中一定要有at.deny文件，允许的肯定比禁止的少。
    at [选项] 时间，-c工作号，显示该at工作的实际内容，
实际中crontab循环定时任务更常用，前面的五个星要好生理解，
分钟、时钟、天数、月份、周几，最多精确到分钟，最大到月份。
六个选项都不能为空，必须填写，不确定用*代替任意时间，
日期和星期最好不要定时在一条命令中，都是按天算，容易混乱
定时任务中，最好都是用绝对路径，免得找不到而出错。
可以0 5 1,15 * *，每个月的1号、15号的凌晨5点执行，\*可以有多个值，As you can see，遇到问题要思考一下
crontab -e编辑edit、-l列出list、-r清空clear，编辑删除就好，分钟那个*由其注意，看是否需要那么频繁，可以\*/10，每10分钟执行一次，慢慢清楚了。
    还可做crontab设置，编辑/etc/crontab这个配置文件，这里就有个演变过程，现在用anacron配置来管理，用来保证在系统关机的时候错过的定时任务，可以在系统开机之后再执行。
把定时任务拷贝到cron.daily、.hourly、.monthly、.weekly对应里面就好，在CentOS 6.x中只会被anacron调用，避免被cron重复执行，另外anacron不再是服务，而是系统命令了。放进对应的目录里，缺点是不能直观看到反应，整体还是优胜劣。
初级课程三，软件安装，20191009周三
第一节，概述与软件包源码
源码包优点：
    开源，如果有足够能力，可以修改源代码
    可以自由选择所需的功能
    编译安装，更加适合自己的系统，稳定高效
    卸载方便，安装目录删掉，就什么痕迹都没有啦
缺点：安装过程步骤繁琐，容易拼写错误
    编译过程时间长，安装比二进制安装长得多
之后Linux官方，注意到了源码包不利于普及，也就有了
二进制包，RPM、系统默认包，
    优点：管理简单，几个命令即可实现包的安装、升级等
    安装速度比源码包快得多，如Windows上的exe
    缺点：经过编译，不再可以看到源代码
    功能选择不如源码包灵活，依赖性，要什么得给什么。
第二节，rpm命令管理
    包全名，操作的包在没有安装时，要使用包全名且注意路径
    包名，已经安装的软件名时，使用包名，搜索/var/lib/rpm/中的数据库，rpm -ivh 包全名，放在/mnt/cdrom/Packages中
-i，install安装，-v，verbose显示详细信息，-h，hash显示进度
--nodeps不检测依赖性，但实际要想正确运行，必须解决依赖性。
升级rpm -Uvh 包命名，U升级upgrade，卸载rpm -e 包名，依赖性，有卸载
是因为RPM包安装时不能指定路径，而是系统默认位置。
RPM查询rmp -q 包名，query、all全部也行，更推荐使用的是
rpm -qa | grep httpd，rpm -qip，查询详细信息，information\packages，p都是指代没有安装的软件包
    安装位置rpm -ql 包名，还可以rpm -qf查询系统文件是哪个包。
R依赖，requires、还可以RPM包校验，查看包里文件是否被修改。
文件提取，rpm2cpio 包命名 | cpio -idv .文件绝对路径，rpm2cpio将rpm包转换为cpio格式的命令，cpio是一个标准工具。
第三节，yum在线管理
    RedHat的yum管理是要付费的，所以我们讲CentOS，yum在本地有文件。
查看源文件可以看到服务器网址等，另外可以搭建本地yum源。
    1挂载光盘，mkdir /mnt/cdrom
        mount /dev/cdrom /mnt/cdrom/
    2使网络yum源失效，cd /etc/yum.repos.d/进入yum源目录
    mv CentOS-Base.repo CentOS-Base.repo.ba修改后缀名，使失效
    3使光盘yum源生效，vim CentOS-Media.repo
    baseurl修改为自己的光盘挂载地址，注释下两个file，enabled改1
然后就可以正常在无网情况下yum下载，推荐在无更新要求时使用本地源。
yum命令，yum list，查询所有可用软件包列表
    yum search 关键字，搜索服务器上所有和关键字相关的包
    yum -y install 包名，自动回答yes，否则还要每次输yes下载，
很多必须要安装的RPM包，yum -y install gcc，C的编译器就是一个，
升级yum -y update httpd，与个人电脑不同，服务器最好不要随意升级，
升级是有风险的，yum -y remove 包名，有个建议：服务器使用最小化安装，用什么安装什么，尽量不要卸载。Linux是没有垃圾软件的，自己注意。
    LANG=en_US，LANG是可以修改当前环境语系的，临时生效就够了
    yum grouplist软件组列表，yum groupinstall\groupremove组操作
第四节，源码包与RPM包区别
安装前，概念上，自己再理解，/etc/rc.d/init.d/httpd start
安装后，安装位置，RPM包是不建议自己指定位置，否则很多命令无法使用
    而源码包是需要指定位置的，一般是/usr/local/软件名.
    源码包的安装准备，
        安装C语言编译器，
        下载源码包，http://mirror.bit.edu.cn/apache/httpd/官网
目前apache2.2就比较成熟稳定的，建议使用，另外如果源码包和RPM包可以
装两个，但是只能启动一个，因为需要相同的资源，对于需要成千上万的客户
来访问的服务，还是用源码包，效果高；而gcc这类的，就可以使用RPM包，
    安装注意事项，初学就不要另僻稀径。
        源代码保存位置，/usr/local/src/
        软件安装位置，/usr/local/
    安装过程，
        解压缩下载的源码包，tar -zxvf httpd-2.2.9.tar.gz
        进入解压缩目录，cd httpd-2.2.9，必须步骤
        ./configure软件配置与检查，位置、功能，环境等
    简单起见，./configure --prefix=/usr/local/apache2/
        make编译，正式编译，如果有错就make clean再来
        make install，正式安装，如果有错就需要删掉安装目录再来
至此，如果没有报错那就安装完成，安装目录里有INSTALL文件，可以看到
具体的安装过程，以及一些使用帮助，这是源码包的作者写好了的。
第五节，脚本安装包，这是大神们写的脚本命令，实质还是源码包或RPM包
    介绍一下，强大的Nginx服务器，一款轻量级Web服务器/反向代理服务器
及电子邮件(IMAP/POP3)，由俄国公司在2004年发布，Web服务还是目前
访问量最大的网络应用。Nginx现在展现出很多优势于Apache,新建网站可以
建议用Nginx搭建，国内有个lnmp.org网站，适合初学者，一键安装包。
    准备工作，关闭RPM包安装的httpd和MySQL，最好卸载掉
    保证yum源正常使用，关闭SELinux和防火墙
SELinux来头非常大，美国国家安全局研发的，我们暂时不用，就可以
vi /etc/selinux/config，读一下，把某个命令disabled，还重启电脑，
    下载脚本包，http://lnmp.org/install.html，同样需要WinSCP，
可以着重研究一下安装步骤，分析里面的代码，centos.sh脚本，足够熟悉后
自己写个安装程序也行。
初级课程四，服务管理，20191010周四
第一节，简介与分类
    系统的运行级别，0-6七个级别，这个就有些复习的意味了。
runlevel查看、init改变，vim /etc/inittab修改默认级别，
服务管理，Linux服务
    RPM包默认安装的服务，独立的服务、基于xinetd服务
    源码包安装的服务，xinetd超级守护进程，逐步被淘汰
服务启动与自启动，Windows可以手动启动，Linux里没有手动概念，对于
当前服务状态还得看服务与端口的课程。看服务/etc/services文件
    里面的端口可以看对应的，查看系统开启的服务，netstat -tlunp
t、tcp数据，u、udp数据，l、列出正在监听网络服务、不包含已经连接的
n、用端口号显示服务、而不是服务名，p、列出服务的进程ID。a所有，
第二节，RMP包服务管理
usr是Unix System Resource，Unix系统资源的缩写，/etc/init.d里面的
都是些shell脚本，可以看看，与/etc/rc.d/init.d是链接关系。
    独立服务的自启动，chkconfig [--level 运行级别] [独立服务名] on|off，修改/etc/rc.d/rc.local文件，ntsysv是RedHat专用
xinetd方式，不占内存，但相对较慢，在现在这种场景下，时间就是金钱，
所以逐步在被独立服务替代，要使用xinetd则需要安装
    yum -y install xinetd，/etc/xinetd.d/里面可以看到管理的启动
项，设置disable = no就好，并且需要重启xinetd服务。这类的服务启动
与自启动是相关联的，学习时知道就好。
第三节，源码包服务管理
apache服务，源码包网页起始页在/usr/local/apache2/htdocs/index.html
而RPM包在/var/www/html/index.html，可以通过命令管理使源码包服务
实现自启动，ln -s /usr/local/apache2/bin/apachectl /etc/rc.d/init.d/，逐步接触到比较生涩的东西，脚本里的注释，也是不可少的，虽然
不会执行，但是充当介绍的作用，只需要知道有这个操作就好。
第四节，总结，Linux领域，九成是RedHat系列、而Ubuntu只是少数，一定要注意。服务器管理，就是把不需要的服务关闭掉，释放资源。开启服务越少，被攻击的可能性就越低，脑图Xwind，风暴。
初级课程五，权限管理，20191010周四
第一节，概述与基本权限
Windows里也有权限管理，在文件属性的安全栏进行设定，因为大多是个人PC
所以Windows上对文件都有管理员权限。而Linux中，服务器为用户严格定义权限等级！再次复习提升一下，加深印象。
    chmod [选项] 模式 文件名
    -R递归，[ugoa] [+-=] [rwx]、[mode=421]
chmod u+x cang.av、chmod g+w,o+x fa.txt、chmod a=rw ha.av
工作建议使用数字，r-4、w-2、x-1，常用的就目录775、文件664，熟练下。
    文件权限的作用，r读、cat\more\head\tail读取文件内容
    w写，编辑、新增、修改文件内容、vi\echo，只能对文件内容进行删除，
但是对于删除文件本身是需要有目录的w权限才可以，注意理解。
    x可执行、xcode，哇哈，又是不同的分类。
权限对目录的作用，
    r、可以查询目录下文件名，ls
    w、修改目录结构，touch新建文件或目录、rm删除、mv、cp操作
    x、可以进入目录，cd，
对于文件x权限很重要，对于目录没r\x两个权限就几乎没有，至少要能访问x撒。mkdir what创建目录what、touch what/here创建what目录here文件，
其他命令，chown user1 what改变所有者，赋权限给特定的用户，
chgrp改变所属组，Linux中新建用户时，就会附带新建一个同名的组，而
Windows中，用户都是放在同一个组中users，重新认识一下。
    chown jt:user av，所有者与所属组可以一步操作，合理的分配权限，
核心原则：在最小权限情况下能够实现要求即可！
第二节，文件默认权限
要注意，Windows中权限有继承关系，新建文件的默认权限与所在目录权限一致，而在Linux中没有这种关系，文件与目录是不相关的。
默认权限可用umask查看，得到0022，文件默认不能建立为执行文件，必须
手工赋予执行权限，所以文件默认最大权限666、默许权限需要换算成字母再
相减，666减去umask的值，使用到了与运算，同时不能为负，再熟练吧！
    110110110，目录权限最大为777、可进入说是没那么敏感。
    000011011，umask值的修改，umask 0023临时修改
    永久修改，vi /etc/profile，可以读懂里面内容就好。
第三节，ACL权限，解决用户身份不够的情况
首先需要查看分区ACL权限是否开启，#dumpe2fs命令是查询指定分区信息
~]# dumpe2fs -h /dev/sda5、h仅显示超级块中信息，而不显示磁盘块组的详细信息。临时开启分区ACL权限，mount -o remount,acl /根目录
    永久生效，/etc/fstab，这里面的内容不能有丝毫差错。
ACL设定与查看，setfacl 选项 文件名，具体看使用时man记忆深刻些。
getfacl时，可以看到mask，其是用来指定最大有效权限的，给特定用户赋予的权限需要和mask的权限“相与”才能得到用户真正的权限。
setfacl -m m:rx av，临时设定mask为rx权限，默认mask为rwx，关键是要清楚mask的值对于用户权限的影响。当然可以删除ACL权限，
    setfacl -x u:lw av，删除指定用户lw对目录av的权限，只是u
    setfacl -b 文件名，删除文件的所有ACL权限，
还可以递归赋予ACL权限，setfacl -m u:lw:rx -R av，对于av目录及其下
文件都有rx权限，这样会有权限溢出警告。所以尽量少用ACL
此外设置默认权限，setfacl -m d：u:lw:rw -R av，default默认的意思，
递归对当前目录下的文件起作用，而默认是对之后新建的文件起作用。
第四节，sudo权限
root把本来只能超级用户执行的命令赋予精通用户执行，sudo操作对象是系统命令，这样就考虑到了实际工作中的情况。
    root用户下，visudo，打开文件，user1 ALL=(ALL) 系统命令，实际
看文件注解就好，需要写绝对路径，养成良好习惯。
    授权普通用户添加其他用户，user1 ALL=/usr/sbin/useradd
加进来了，还要让其可以设定密码，还是那句话，写得越简单，权限越大，
在用sudo赋予权限的时候，一定要考虑清楚，是否可以给普通用户授权。
第五节，特殊权限
SetUID，只有可执行的二进制程序才能设定SUID权限，命令执行者要对该程序有x权限，执行该程序时会暂时赋予属主身份，程序执行结束则失效。
    所以普通用户可以修改自己的密码，/usr/bin/passwd文件里，
    4代表SUID，chmod 4775 /bin/vi，一定不要给系统文件赋4775权限，
非常危险，取消用0775、或u-s，S表示不起作用，s=S+x。
SetGID，组身份，setGID可针对目录作用，2代表SGID，有些难知道就好。
Sticky BIT，粘着位，针对目录，老师讲到了做PPT的原则，减少文字，
演讲者应该自己从口中说出来，那样才有知识传导作用，产生敬佩心理。
设置1777或o+t 目录名，取消 0、o-t，知道有就行，不要去改。
不可改变位权限，chattr，+增加、-删除、=对等，a追加append、i插入insert，chattr +i 123，禁止新建、删除、修改，自己实验再试试。
lsattr 选项 文件名，a显示所有文件和目录，d目标是目录，列出本身属性。